<widget data-th-id="${'widget-' + widgetId}">
    <link rel="stylesheet" th:href="${googleAnalyticsCssUrl}" type="text/css"/>
    <div data-th-id="ga-authenticated" th:class="widget-container" hidden="true">
        <div data-th-id="date-range-container" class="date-range-container">
            <span></span>
            <select data-th-id="start-date" hidden="true">
                <option value="7daysAgo">Last 7 days</option>
                <option value="30daysAgo">Last 30 days</option>
                <option value="365daysAgo">Last 365 days</option>
                <option value="thisWeek">This week</option>
                <option value="thisMonth">This month</option>
                <option value="thisYear">This year</option>
            </select>
        </div>
    </div>
    <div data-th-id="ga-not-authenticated" th:class="error" hidden="true"></div>
</widget>
<script th:src="${embedApiJsUrl}" type="text/javascript"></script>
<script th:src="${googleAnalyticsJsUrl}" type="text/javascript"></script>
<script th:if="${mapsApiKey}" src="https://www.google.com/jsapi"></script>
<script th:if="${mapsApiKey}" data-th-src="${'https://maps.googleapis.com/maps/api/js?key=' + mapsApiKey}"></script>
<script data-th-inline="javascript">
    /*<![CDATA[*/
    var CONFIG = {
        widgetId: [[${widgetId}]],
        serviceurl: [[${serviceUrl}]],
        trackingid: [[${trackingId}]],
        pageid: [[${pageId}]]
    };

    /*]]>*/
</script>